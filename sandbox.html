<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="domdoodler.css">
<title>domdoodler sandbox test</title>
</head>
<body>
<noscript><p>Please enable Javascript</p></noscript>
<script>

var isDrawing = false;
var activeColor = 'black';
var beat = 0;

function changeColor(newColor)
{
    activeColor = newColor;
    document.doodle.color_status.value = activeColor;
    showEvent('Change Color: ' + activeColor);
}

function m(obj)
{
    if (isDrawing) {
        obj.style.backgroundColor = activeColor;
        showEvent(
            'Mouseover: '
            + ' ' + obj.cellIndex + 'x?' // + obj
            + ' ' + obj.offsetTop + 'x' + obj.offsetLeft
            + ' ' + obj.offsetWidth + 'x' + obj.offsetHeight
        );
    }
}
function c(obj)
{
    toggleDrawing();
    m(obj);
}
function toggleDrawing()
{
    if(isDrawing) {
       isDrawing = false;
       document.doodle.drawing_status.value = 'Pen OFF';
       showEvent('Pen Turned OFF');
    } else {
       isDrawing = true;
       document.doodle.drawing_status.value = 'Pen ON';
       showEvent('Pen Turned ON, color: ' + activeColor);
    }
}
function saveAsHTML()
{
    canvas = document.getElementById('canvas');
    out = '<table cellpadding="0" cellspacing="0" border="0" width="100" height="100">';
    for( x = 0; x < canvas.rows.length; x++ ) {
        out += '<tr>';
        for( y = 0; y < canvas.rows[x].cells.length; y++ ) {
            clr = canvas.rows[x].cells[y].style.backgroundColor;
            if( clr == '' ) { clr = 'White'; }
            out = out + '<td style="background-color:' + clr + '" >&nbsp;</td>';
        }
        out = out + '</tr>';
      }
    out = out + '</table>';
    showEvent(out);
}

function showEvent(text)
{
    beat += 1;
    document.doodle.events.value = beat + ': ' + text + '\n' + document.doodle.events.value;
}
function clearEvents()
{
    document.doodle.events.value = '';
}
</script>
<form name="doodle">

<table class="hdr">
 <tr>
  <td height="10%" valign="top" align="center" bgcolor="#F0F0F0">
    <table width="100%" cellpadding="10" cellspacing="0" border="0">
     <tr>
      <td><a href="/domdoodler/">Doodler Sandbox</a> &nbsp; &nbsp;</td>
      <td align="right">
        <input id="drawing_status" value="Pen OFF" type="text" size="8"> &nbsp; &nbsp;
        Click to <a href="#" onclick="toggleDrawing();return false;">Toggle Pen</a> &nbsp; &nbsp;
      </td>
      <td bgcolor="black" onClick="changeColor('black');return false;">&nbsp;</td>
      <td class="cGray" onClick="changeColor('gray');return false;">&nbsp;</td>
      <td class="cWhite" onClick="changeColor('white');return false;">&nbsp;</td>
      <td class="cBlue" onClick="changeColor('blue');return false;">&nbsp;</td>
      <td class="cAqua" onClick="changeColor('aqua');return false;">&nbsp;</td>
      <td class="cGreen" onClick="changeColor('green');return false;">&nbsp;</td>
      <td class="cLime" onClick="changeColor('lime');return false;">&nbsp;</td>
      <td class="cPurple" onClick="changeColor('purple');return false;">&nbsp;</td>
      <td class="cRed" onClick="changeColor('red');return false;">&nbsp;</td>
      <td class="cFuchsia" onClick="changeColor('fuchsia');return false;">&nbsp;</td>
      <td class="cYellow " onClick="changeColor('yellow');return false;">&nbsp;</td>
      <td><input id="color_status" value="black" type="text" size="8">&nbsp;</td>
     </tr>
    </table>
    <p align="left"><a href="#" onclick="saveAsHTML();return false;">Save as HTML</a></p>
  </td>
 </tr>
 <tr>
  <td height="90%" valign="top" align="center">

<table width="20%" cellpadding="10" cellspacing="0" border="1" id="canvas">
<tr>
<td class="cv" onClick="c(this);" onMouseOver="m(this);" >&nbsp;</td>
<td onClick="c(this);" onMouseOver="m(this);" >&nbsp;</td>
<td onClick="c(this);" onMouseOver="m(this);" >&nbsp;</td>
<td onClick="c(this);" onMouseOver="m(this);" >&nbsp;</td>
<td onClick="c(this);" onMouseOver="m(this);" >&nbsp;</td>
</tr>
<tr>
<td onClick="c(this);" onMouseOver="m(this);" >&nbsp;</td>
<td onClick="c(this);" onMouseOver="m(this);" >&nbsp;</td>
<td onClick="c(this);" onMouseOver="m(this);" >&nbsp;</td>
<td onClick="c(this);" onMouseOver="m(this);" >&nbsp;</td>
<td onClick="c(this);" onMouseOver="m(this);" >&nbsp;</td>
</tr>
<tr>
<td onClick="c(this);" onMouseOver="m(this);" >&nbsp;</td>
<td onClick="c(this);" onMouseOver="m(this);" >&nbsp;</td>
<td onClick="c(this);" onMouseOver="m(this);" >&nbsp;</td>
<td onClick="c(this);" onMouseOver="m(this);" >&nbsp;</td>
<td onClick="c(this);" onMouseOver="m(this);" >&nbsp;</td>
</tr>
<tr>
<td onClick="c(this);" onMouseOver="m(this);" >&nbsp;</td>
<td onClick="c(this);" onMouseOver="m(this);" >&nbsp;</td>
<td onClick="c(this);" onMouseOver="m(this);" >&nbsp;</td>
<td onClick="c(this);" onMouseOver="m(this);" >&nbsp;</td>
<td onClick="c(this);" onMouseOver="m(this);" >&nbsp;</td>
</tr>
<tr>
<td onClick="c(this);" onMouseOver="m(this);" >&nbsp;</td>
<td onClick="c(this);" onMouseOver="m(this);" >&nbsp;</td>
<td onClick="c(this);" onMouseOver="m(this);" >&nbsp;</td>
<td onClick="c(this);" onMouseOver="m(this);" >&nbsp;</td>
<td onClick="c(this);" onMouseOver="m(this);" >&nbsp;</td>
</tr>
</table>

<textarea id="events" cols="80" rows="20"></textarea>
<br /><a href="#" onclick="clearEvents();return false;">Clear</a>

  </td>
 </tr>
</table>
</form>
</body>
</html>
